name: ktlint Check

on:
  pull_request:
    paths:
      - '**/*.kt'
      - '**/*.kts'

jobs:
  ktlint:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v4
        with:
          fetch-depth: 1

      - name: Run ktlint
        uses: ScaCap/action-ktlint@master
        with:
          github_token: ${{ secrets.KTLINT_TOKEN }}
          reporter: github-pr-check  # Or 'github-pr-review' for comments
          fail_level: error         # Fails the job on lint errors (default behavior with reviewdog)
          # Optional: ktlint_version: 1.3.1 (use latest if omitted)
          # Optional: android: true (for Android style guide)
